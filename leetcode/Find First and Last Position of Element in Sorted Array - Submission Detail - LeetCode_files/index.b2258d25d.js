(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{HN9q:function(e,t,a){"use strict";a.r(t);var o=a("NTd/"),s=a.n(o),i=a("FIf5"),n=a.n(i),r=a("YJVQ"),l=a("f0d8");!function(e,t){var a={cpp:"#f34b7d",java:"#b07219",python:"#3572a5",mysql:"#f8910e",c:"#555555",csharp:"#178600",javascript:"#f1e05a",ruby:"#701516",bash:"#89e051"},o={legend:{show:!1},selection:{mode:"x"}},i=1,c=2;function m(t){var a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.each(t,function(e,t){if(t.data&&t.bars.show)for(var s=0;s<t.data.length;s++)a=Math.max(t.data[s][0],a),o=Math.max(t.data[s][1],o)}),{x:a,y:o}}var d=null,u=e("#sample-submission-modal"),p=e("#sample-submission-header"),b=e("#sample-submission-code");function h(e,t){for(var a=100,o=0;o<e.length;o++)e[o][0]<t&&(a-=e[o][1]);return a<0&&(a=Math.abs(0)),a}function x(a,l,c,m,h,x,f){e(".placeholder-content").removeClass("hide").addClass("animated fadeIn");var g=Object.assign({},o,c);e.plot(x,a,g).autoScale(),d=e.plot(h,a,l),e(x).bind("plothover",function(){e(x)[0].style.cursor="crosshair"}),e(x).bind("plotselected",function(t,o){o.xaxis.to-o.xaxis.from<1e-5&&(o.xaxis.to=o.xaxis.from+1e-5),o.yaxis.to-o.yaxis.from<1e-5&&(o.yaxis.to=o.yaxis.from+1e-5),d=e.plot(h,a,e.extend(!0,{},l,{xaxis:{min:o.xaxis.from,max:o.xaxis.to}}))}),e(h).bind("plotclick",function(o,l,c){var d;if(c)d=c.datapoint[0];else{var x=e(h).data("plot").getYAxes()[0],g=x.min,y=x.max,v=Math.floor(l.x);l.y>=g&&l.y<=y&&a[0].data.map(function(e){return parseInt(e[0],10)}).includes(v)&&(d=v)}if(void 0!==d){var _="",w="";f===i?(w=s.a.get("submission_detail.sample_submission_title_runtime",{runtime:d}).d("sample "+d+" ms submission"),_="/submissions/api/detail/"+t.questionId+"/"+m+"/"+d):(w=s.a.get("submission_detail.sample_submission_title_memory",{memory:d}).d("sample "+d+" KB submission"),_="/submissions/api/detail/"+t.questionId+"/"+m+"/memory/"+d),p.text(w),b.text(Object(r.t)("submission_detail.fetching_code").d("Fetching code from server..."));var I=Object(r.ajaxWrapper)({method:"GET",url:_,success:function(e){b.text(e.code),n.a.highlightBlock(b[0])},error:function(e){b.text(e.responseJSON.error)}});e.ajax(I),u.modal("show")}}),e(h).bind("plothover",function(t,a,o){e(h)[0].style.cursor=o?"pointer":"default"}),d.autoScale()}function f(){e(".testcase-info").on("click",function(){var t,a,o;e(this).parent().addClass("testcase-row-expand"),t=this,window.getSelection&&document.createRange?(a=getSelection(),(o=document.createRange()).selectNodeContents(t),a.removeAllRanges(),a.addRange(o)):document.body.createTextRange&&((o=document.body.createTextRange()).moveToElementText(t),o.select())})}window.togglePlot=function(e){var t=d.getData();t[e].bars.show=!t[e].bars.show,d.setData(t);var a=m(t);d.getOptions().comments[0].y=a.y/4,d.autoScale()},angular.module("app").controller("BaseCtrl",["storage",function(a){this.editCode=function(){var e=t.questionId+"_"+t.sessionId;a.setAndSwitchPrefix(e),a.put("restore",!1),a.put(t.getLangDisplay,t.submissionCode),a.put("lang",t.getLangDisplay),window.location.href=t.editCodeUrl},this.importToLibrary=function(){var a=Object(r.ajaxWrapper)({method:"POST",url:"/library/import_to_library/",data:JSON.stringify({submission_id:t.submissionId}),success:function(e){Object(l.lcal)({title:"Submission imported to library!",buttons:[{type:"confirm",text:"OK",returnValue:!0,shouldPressOnEnter:!0}]})},error:function(e){Object(l.lcal)({title:"Unable to import submission to library!"})}});e.ajax(a)}}]).controller("AceCtrl",[function(){this.aceOption=function(){return{lang:t.getLangDisplay,useWrapMode:!0,showPrintMargin:!1,showIndentGuides:!1,highlightActiveLine:!1,showGutter:!0,autoScrollEditorIntoView:!0,minLines:25,theme:"textmate"}},this.code=t.submissionCode}]),e(function(){var o=angular.element("[ng-controller=PollerCtrl]").scope();t.submissionData.status_code?(o.process(t.submissionData),o.$apply()):(o.startPoll(t.checkUrl),o.$apply());try{!function(){if(t.runtimeDistributionFormatted){var o=JSON.parse(t.runtimeDistributionFormatted),n=o.distribution,l=o.lang;b[0].className=l;var c=[];c.push({label:l,data:n,bars:{show:!0},lines:{show:!1},color:a[l],clickable:!0,hoverable:!0});var d=parseInt(t.runtime,10);x(c,{axisLabels:{show:!0},xaxes:[{axisLabel:"Runtime (ms)"}],yaxes:[{axisLabel:"Distribution (%)"}],grid:{markings:[{xaxis:{from:d-2,to:d+2},color:"#E8E8E8"}]},comment:{show:!0,wrapperCss:{"font-size":"x-small",opacity:.7}},comments:[{x:d+.5,y:m(c).y/4,contents:s.a.get("submission_detail.you_are_here_runtime",{precentage:h(n,d).toFixed(2),lang:t.getLangDisplay}).d("You are here! <br> Your runtime beats\n              "+h(n,d).toFixed(2)+"\n              % of "+t.getLangDisplay+" submissions.")}]},{},l,"#runtime_detail_plot_placeholder","#runtime_overview_plot_placeholder",i)}else e(".placeholder-content").removeClass("hide").addClass("animated fadeIn"),e("#runtime-placeholder").text(Object(r.t)("submission_detail.placeholder").d(t.nonSufficientMsg))}(),"True"===t.enableMemoryDistribution&&function(){if(t.memoryDistributionFormatted){var o=JSON.parse(t.memoryDistributionFormatted),i=o.distribution,n=o.lang;b[0].className=n;var l=[];l.push({label:n,data:i,bars:{show:!0,align:"center",barWidth:100},lines:{show:!1},color:a[n],clickable:!0,hoverable:!0});var d=parseInt(t.memory,10)/1e3;x(l,{axisLabels:{show:!0},xaxes:[{axisLabel:"Memory (KB)"}],yaxes:[{axisLabel:"Distribution (%)"}],grid:{markings:[{xaxis:{from:d-2,to:d+2},color:"#E8E8E8"}]},comment:{show:!0,wrapperCss:{"font-size":"x-small",opacity:.7}},comments:[{x:d+.5,y:m(l).y/4,contents:s.a.get("submission_detail.you_are_here_memory",{precentage:h(i,d).toFixed(2),lang:t.getLangDisplay}).d("You are here! <br> Your memory usage beats\n              "+h(i,d).toFixed(2)+"\n              % of "+t.getLangDisplay+" submissions.")}]},{bars:{show:!0,align:"center",barWidth:100}},n,"#memory_detail_plot_placeholder","#memory_overview_plot_placeholder",c)}else e(".placeholder-content").removeClass("hide").addClass("animated fadeIn"),e("#memory-placeholder").text(Object(r.t)("submission_detail.placeholder").d(t.nonSufficientMsg))}()}catch(e){console.error(e)}f()})}(jQuery,pageData)}},[["HN9q",0,2,1]]]);
//# sourceMappingURL=index.b2258d25d.js.map